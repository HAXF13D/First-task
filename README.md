# Задача 1: Развертывание БД с использованием Docker

Эта задача представляет собой развертывание образа с опенсорс СУБД с использованием Docker. В данном примере будет использоваться PostgreSQL. Для сохранения данных при перезапуске контейнера будут использованы Docker-тома.

## Инструкции по запуску

1. Установите Docker, если он еще не установлен, следуя официальной документации Docker: [https://docs.docker.com/get-docker/](https://docs.docker.com/get-docker/)

2. Склонируйте репозиторий на свой локальный компьютер.

3. Перейдите в директорию с репозиторием.

4. Откройте файл `docker-compose.yml` в текстовом редакторе.

5. В секции `services > db > environment` установите значения переменных окружения для базы данных:
    - `POSTGRES_USER`: ваше имя пользователя
    - `POSTGRES_PASSWORD`: ваш пароль
    - `POSTGRES_DB`: имя базы данных

6. В секции `services > db > volumes` укажите путь на вашей локальной машине, где будут храниться файлы базы данных. Например:
    ```
    volumes:
      - ./data:/
    ```

   В данном примере файлы будут сохраняться в директории `./data` внутри репозитория.

7. Сохраните изменения в файле `docker-compose.yml`.

8. Откройте командную строку или терминал и перейдите в директорию репозитория.

9. Запустите контейнер с помощью следующей команды:
    ```
    docker-compose up -d
    ```

   Эта команда запустит контейнер в фоновом режиме.

10. После запуска контейнера вы сможете подключиться к PostgreSQL с помощью любого клиента для работы с базами данных, используя следующие параметры:
    - Хост: `localhost`
    - Порт: `5432`
    - Имя пользователя: ваше имя пользователя
    - Пароль: ваш пароль
    - Имя базы данных: имя базы данных, указанное в `docker-compose.yml`

11. По умолчанию, данные базы данных будут сохраняться в директории `./data` на вашей локальной машине. Если вы хотите изменить путь или сохранить данные в другом месте, отредактируйте соответствующую секцию в файле `docker-compose.yml` и перезапустите контейнер с помощью команды `docker-compose up -d`.

12. Чтобы остановить и удалить контейнер, выполните следующую команду:
    ```
    docker-compose down
    ```

   Это удалит контейнер, но сохранит данные базы данных, так как они хранятся в Docker-томе.
 
## Инструкции по запуску веб-сервиса

1. Убедитесь, что у вас установлен Python 3.9 или новее на вашей машине.

2. В файле ```credits.py``` установите необходимые зависимости для доступа к базе данных:
    - `USER_NAME`: ваше имя пользователя
    - `PASSWORD`: ваш пароль
    - `DB_NAME`: имя базы данных

2. Создайте образ Docker, выполнив следующую команду:
    ```
    docker build -t my_quiz_service .
    ```

3. После создания образа вы можете запустить контейнер с помощью следующей команды:
    ```
    docker run -d --name quiz_service -p 8000:8000 my_quiz_service
    ```

   Веб-сервис будет доступен по адресу `http://localhost:8000`.

   Примечание: Убедитесь, что порт 8000 доступен и не занят другим процессом.


## Примечания

- Убедитесь, что у вас достаточно свободного места на диске для хранения данных базы данных.
- Если вы хотите использовать другую СУБД вместо PostgreSQL, отредактируйте файл `docker-compose.yml`, заменив `image: postgres:latest` на соответствующий образ для выбранной СУБД.

